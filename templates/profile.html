{% extends "base.html" %}

{% block title %}User Profile{% endblock %}

{% block content %}
<div class="profile-container">
    <h1>User Profile</h1>
    <div class="profile-info">
        <p><strong>Username:</strong> {{ user.username }}</p>
        <p><strong>Email:</strong> {{ user.email }}</p>
    </div>

    <h2>My Books</h2>
    <div id="book-grid">
        {% if user.books %}
            <ul class="book-list">
            {% for book in user.books %}
                <li>
                    <a href="{{ url_for('book_details', id=book.id) }}">{{ book.title }}</a> by {{ book.author }}
                </li>
            {% endfor %}
            </ul>
        {% else %}
            <p>You haven't added any books yet.</p>
        {% endif %}
    </div>

    <h2>My Wishlist</h2>
    {% if user.wishlist %}
        <ul class="wishlist">
        {% for book in user.wishlist %}
            <li>
                <a href="{{ url_for('book_details', id=book.id) }}">{{ book.title }}</a> by {{ book.author }}
            </li>
        {% endfor %}
        </ul>
    {% else %}
        <p>Your wishlist is empty.</p>
    {% endif %}

    <h2>My Reviews</h2>
    {% if user.reviews %}
        <ul class="review-list">
        {% for review in user.reviews %}
            <li>
                <a href="{{ url_for('book_details', id=review.book.id) }}">{{ review.book.title }}</a>:
                {{ review.rating }}/5 - {{ review.comment }}
            </li>
        {% endfor %}
        </ul>
    {% else %}
        <p>You haven't written any reviews yet.</p>
    {% endif %}
</div>
{% endblock %}
